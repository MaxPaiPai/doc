
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Quick start guide for storm surge modeling &#8212; Clawpack 5.8.x documentation</title>
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/base.css" type="text/css" />
    <link rel="stylesheet" href="_static/layout.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Earthquake sources: Fault slip and the Okada model" href="okada.html" />
    <link rel="prev" title="Quick start guide for tsunami modeling" href="quick_tsunami.html" /> 
  </head><body>
<div id="main-wrapper" class="sphinx">
<div id="header-wrapper">
  <section id="header">
    <!-- <h1><a href="http://clawpack.org/">Clawpack</a></h1> -->
    <h1><a href="http://clawpack.org/">Clawpack-5</a></h1> 
    <nav>
      <ul>
        <li>
          <a href="contents.html">Docs</a>
        </li>
        <li>
          <a href="installing.html">Install</a>
        </li>
        <li>
          <a class="" href="http://clawpack.org/gallery/index.html">Gallery</a>
        </li>
        <li>
          <a href="about.html">Citation</a>
        </li>
        <li>
          <a class="active" href="http://github.com/clawpack">GitHub</a>
        </li>
        <li>
          <a class="" href="community.html">Community</a>
        </li>
        <li>
          <a class="" href="developers.html">Contribute</a>
        </li>
      </ul>
    </nav>
  </section>
<div class="decoration"></div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="okada.html" title="Earthquake sources: Fault slip and the Okada model"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quick_tsunami.html" title="Quick start guide for tsunami modeling"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">Clawpack 5.8.x documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="geoclaw.html" accesskey="U">GeoClaw Description and Detailed Contents</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="quick-start-guide-for-storm-surge-modeling">
<span id="quick-surge"></span><h1>Quick start guide for storm surge modeling<a class="headerlink" href="#quick-start-guide-for-storm-surge-modeling" title="Permalink to this headline">¶</a></h1>
<p>See also this <a class="reference external" href="https://www.youtube.com/watch?v=YurKRmYgGfk&amp;t=10s">youtube video</a>
and the related materials from the <a class="reference external" href="http://www.clawpack.org/geoclawdev-2020/">2020 GeoClaw Developers Workshop</a>.</p>
<p>To get started with a storm surge computation it is best to refer to a previous
working example.  For example, you might start with
<cite>$CLAW/geoclaw/examples/storm-surge/ike</cite>.  There are also a number of additional
examples in the <cite>$CLAW/geoclaw/examples/storm-surge</cite> directory as well as some
in the <cite>$CLAW/apps/surge-examples</cite> directory (this is actually a repository of
examples that is actively updated).  The primary input that one needs to provide
for a new example usually involves two data source</p>
<blockquote>
<div><ul class="simple">
<li><p>Topography data:  Data that specifies the topography and bathymetry of the
region around the area of interest.  For storm surge computations it is
generally good practice to include entire oceanic basins so that you can
ensure that flow into and out of the basin is resolved by the computation
and is sufficiently distant from the computational domain’s boundaries.</p></li>
<li><p>Storm data:  Of course we need to specify the particular storm that you
are interested in.  There are a number of ways to specify a storm which
are described in <a class="reference internal" href="setrun_geoclaw.html#setrun-surge"><span class="std std-ref">Storm Specification Data</span></a>.  Sources for parameterized storms
can also be found in <a class="reference internal" href="surgedata.html#surgedata"><span class="std std-ref">Sources for Storm Surge Data</span></a> and a description of how to include
them in <span class="xref std std-ref">_surge_module</span>.</p></li>
</ul>
</div></blockquote>
<p>Here we will concentrate on changing the Hurricane Ike (2018) example into one for
Hurricane Elsa (2021).</p>
<ol class="arabic simple">
<li><p>First copy the files (setrun.py, setplot.py, makefile) located in the Hurricane Ike directorty located at
<cite>$CLAW/geoclaw/examples/storm-surge/ike</cite>.</p></li> Note: if reader has not yet set up environment 
variable <cite>CLAW</cite>, please refer to this page: <a class="reference external" href="http://www.clawpack.org/setenv.html">Setting Environment Variable</span></a>
<li><p>Next let’s find some better topography for the west coast Florida area. There are several places where we can get topography/bathymetry data, for
  example <a class="reference external" href="https://www.gmrt.org/index.php">Global Multi-Resolution Topography Data Synthesis</span></a>, 
  <a class="reference external" href="https://www.jspacesystems.or.jp/ersdac/GDEM/E/1.html">Global Digital Elevation Model</span></a>,
  <a class="reference external" href="https://www.ngdc.noaa.gov/mgg/bathymetry/relief.html">National Center for Environmental Information</span></a>,
  and <a class="reference external" href="https://www.gebco.net/data_and_products/gridded_bathymetry_data/">The General Bathymetry Chart of the Oceans</span></a>.
  Here we will use the data from the last one which is the GEBCO to retrive and download the topography and bathymetry data for hurricane Elsa. Theoretically, we 
  can select the region as big as possible. However, the bigger the region, the more computational complexity it will be for GeoClaw simulation. So for hurricane Elsa,
  we only use the gulf of Mexico region so that it can include the region days before Elsa's landfall and the region days after the landfall. (How to specify how many 
  days before and after will be discussed in later steps below.) After downloading the grid format of the topography data, we may want to store it on cloud like google drive, 
  dropbox, or your personal website so that people in the future can have access to this topography data file. 
</p></li>
<li><p>Now let’s find a storm specification for Hurricane Elsa. Several data resouces are available: <a class="reference external" href="https://ftp.nhc.noaa.gov/atcf/archive/">Automated Tropical Cyclone Forecasting System</span></a>,
  <a class="reference external" href="https://www.aoml.noaa.gov/hrd/hurdat/Data_Storm.html">Atlantic Oceanographic and Meteorological Laboratory</span></a>,
  <a class="reference external" href="https://ruc.noaa.gov/tracks/">NOAA Rapid Update Cycle</span></a>,
  <a class="reference external" href="http://www.ncdc.noaa.gov/ibtracs/">National Center for Environmental Information</span></a>,
  <a class="reference external" href="https://www.metoc.navy.mil/jtwc/jtwc.html?best-tracks">Naval Meteorology and Oceanography Command</span></a>,
  <a class="reference external" href="https://chs.erdc.dren.mil">Coastal Hazards System</span></a>.
   In this example we will use the ATCF database. For Hurricane Elsa this ends up being
the file located <a class="reference external" href="http://ftp.nhc.noaa.gov/atcf/archive/2021/bal052021.dat.gz">here</span></a>.</p></li>
How to find a storm specific data using ATCF database for your storm? Go to <a class="reference external" href="http://ftp.nhc.noaa.gov/atcf/archive/">ATCF Archive</span></a>. Then 
search for you storm number. In this example, storm number for Hurricane Elsa is <cite>AL052021</cite>. Therefore, the storm data corresponds to Hurricane Elsa will simply 
be <cite>bal052021.dat</cite> in year 2021.
<li><p>Now we have our topography data and storm specific data ready. Next, we need to modify the <cite>setrun.py</cite> to use 
  our new storm specific data and topography data we just added. First, modify the 
  computational domain so that it matches or contains in the region of the topography data. 
  Then change <code>t0</code>, <code>tfinal</code>, and <code>time_offset</code>
  to Elsa's landfall time and time period before and after landfall we want to simulate. 
  Last but not least, change locations of retrieving topography and storm data file in topography data and 
  surge data sections. 
</p></li>
<li><p> We also need to modify the plotting in <cite>setplot.py</cite>. 
  First, we may want to change upper and lower limits for surface levels, wind speeds,
  pressure, and friction to best represent our storm. For example, Elsa is a category 1 hurricane which is 
  not very strong. Therefore, we changed the surface levels to <code>[-1, 1]</code> so that 
  visualization from plots will be more evident. In the plot specifications section, we can add
  zoom in regions. For Elsa, three more regions other than the computational domain are added. We may 
  also alter the legends, labels, colors of plots, and so on.
</p></li>
<li><p>Gauges are key for validation study. We want to know how good GeoClaw's simulation is
  comparing to observed currents and tides data. Guage information and location 
  can be found here at <a class="reference external" href="https://tidesandcurrents.noaa.gov">NOAA Tides & Currents</span></a>.
   In <cite>setrun.py</cite>, add gauge locations using <code>rundata.gaugedata.gauges.append()</code> method.
   Accordingly in <cite>setplot.py</cite>, modify parameters of <code>geoclaw.util.fetch_noaa_tide_data()</code> method
   so that observed data from guages will be fetched and plotted along with simulation. 
</p></li>
<li><p>Sometimes, plots will not look correct even though we inputed the exactly precise locations of guages. One highly possible reason for that 
  is our region is not resolved enough. Consequently, GeoClaw might recognize topography of locations wrongly. To solve this problem, we will
  use the <a class="reference external" href="https://www.clawpack.org/amr_algorithm.html#amr-algorithm">AMRClaw</span></a> algorithm to furthur
  refine regions. For this example, Tampa Bay area was not recognized by GeoClaw until 6 levels of refinement was implemented.
</p></li>
<li><p>Finally we are ready to run the simulation. Make sure all files (setrun.py, setplot.py, makefile) are in the correct directory, 
  then <code>$ cd DirectoryPath</code> to the working directory. In that working directory, we can either use <code>$ make all</code> or <code>$ make .plots</code>
  to execute. If errors are encountered, we can follow the sequence of <code>$ make .exe</code>, <code>$ make .data</code>, <code>$ make .output</code>, and
  <code>$ make .plots</code> to debug. To eliminate all executable files and restart, we can use <code>$ make clean</code>.</p></li>
  Once the simulation runs successfully, we can see the result at <code>DirectoryPath/_plots/_PlotIndex.html</code>. 
</ol>
</div>
          </div>
          <b>For a more detailed, step-by-step guide to storm surge simulations/validations, please find the jupyter notebook <cite>setup.ipynb</cite> at this <a class="reference external" href="https://github.com/mandli/apps">github repository</span></a>.</b>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p><a href="http://clawpack.org/">
    <img class="logo" src= "_static/clawlogo.jpg" alt="Logo"/>
</a>
<h2>Version 5.8.x</h2>
</p><h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Documentation overview</a><ul>
  <li><a href="geoclaw.html">GeoClaw Description and Detailed Contents</a><ul>
      <li>Previous: <a href="quick_tsunami.html" title="previous chapter">Quick start guide for tsunami modeling</a></li>
      <li>Next: <a href="okada.html" title="next chapter">Earthquake sources: Fault slip and the Okada model</a></li>
  </ul></li>
  </ul></li>
</ul>
<div class="widget navlinks">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/quick_surge.rst.txt"
            rel="nofollow"
            target="_blank">Source .rst</a></li>
    <li><a href="https://github.com/clawpack/doc/blob/dev/doc/quick_surge.rst"
            rel="nofollow"
            target="_blank">Source on GitHub</a></li>
     <li><a href="https://github.com/clawpack/doc/commits/dev/doc/quick_surge.rst"
             rel="nofollow"
             target="_blank">History</a></li>
    <li><a href="https://github.com/clawpack/doc/edit/dev/doc/quick_surge.rst"
            rel="nofollow"
            target="_blank">Suggest Edits</a></li>
     <li><a href="https://github.com/clawpack/doc/issues/new/choose"
             rel="nofollow"
             target="_blank">Raise an Issue</a></li>
  </ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<h4>Latest Version</h4>
<ul>
  <li><a href="./dev/quick_surge.html">dev</a></li>
  <li><a href="quick_surge.html">v5.8.x</a></li>
</ul>
<h4>Older Versions</h4>
<ul>
  <li><a href="./v5.1.x/index.html">v5.1.x</a></li>
  <li><a href="./v5.2.x/index.html">v5.2.x</a></li>
  <li><a href="./v5.3.x/index.html">v5.3.x</a></li>
  <li><a href="./v5.4.x/index.html">v5.4.x</a></li>
  <li><a href="./v5.5.x/quick_surge.html">v5.5.x</a></li>
  <li><a href="./v5.6.x/quick_surge.html">v5.6.x</a></li>
  <li><a href="./v5.7.x/quick_surge.html">v5.7.x</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright CC-BY 2022, The Clawpack Development Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44811544-1', 'auto');
  ga('send', 'pageview');

  </script>
  
  </body>
</html>